const a13_0x53b452=a13_0x266d;(function(_0x1db38b,_0xbb368c){const _0x50384d=a13_0x266d,_0x2d060f=_0x1db38b();while(!![]){try{const _0x1e6420=-parseInt(_0x50384d(0xd6))/0x1*(parseInt(_0x50384d(0xe7))/0x2)+parseInt(_0x50384d(0xc6))/0x3+parseInt(_0x50384d(0xc1))/0x4*(-parseInt(_0x50384d(0xdd))/0x5)+parseInt(_0x50384d(0xe4))/0x6*(-parseInt(_0x50384d(0xe3))/0x7)+parseInt(_0x50384d(0xc4))/0x8+parseInt(_0x50384d(0xce))/0x9+parseInt(_0x50384d(0xd7))/0xa*(-parseInt(_0x50384d(0xc8))/0xb);if(_0x1e6420===_0xbb368c)break;else _0x2d060f['push'](_0x2d060f['shift']());}catch(_0x575749){_0x2d060f['push'](_0x2d060f['shift']());}}}(a13_0x2628,0xd9981));const axios=require(a13_0x53b452(0xc5)),fs=require('fs'),path=require('path'),{tmpdir}=require('os'),Crypto=require(a13_0x53b452(0xca)),ffmpegPath=require(a13_0x53b452(0xd0))[a13_0x53b452(0xcd)],ffmpeg=require(a13_0x53b452(0xdb));function a13_0x266d(_0x37dc37,_0x19ac39){const _0x2628d8=a13_0x2628();return a13_0x266d=function(_0x266d72,_0xa4a1b1){_0x266d72=_0x266d72-0xc1;let _0x593c66=_0x2628d8[_0x266d72];return _0x593c66;},a13_0x266d(_0x37dc37,_0x19ac39);}ffmpeg[a13_0x53b452(0xf7)](ffmpegPath);async function fetchImage(_0x34208a){const _0x16e002=a13_0x53b452,_0xd97726={'jTwhg':_0x16e002(0xeb),'oIYDb':_0x16e002(0xc3)};try{const _0x1144bf=await axios[_0x16e002(0xd1)](_0x34208a,{'responseType':_0x16e002(0xcc)});return _0x1144bf[_0x16e002(0xd2)];}catch(_0x1a9a2b){console['error'](_0xd97726[_0x16e002(0xf2)],_0x1a9a2b);throw new Error(_0xd97726[_0x16e002(0xfb)]);}}async function fetchGif(_0x6ecc8a){const _0x115a72=a13_0x53b452,_0x544682={'NjhMD':'Error\x20fetching\x20GIF:','PXDgk':_0x115a72(0xdf)};try{const _0x384525=await axios[_0x115a72(0xd1)](_0x6ecc8a,{'responseType':_0x115a72(0xcc)});return _0x384525[_0x115a72(0xd2)];}catch(_0x440f8c){console[_0x115a72(0xfa)](_0x544682[_0x115a72(0xe0)],_0x440f8c);throw new Error(_0x544682['PXDgk']);}}function a13_0x2628(){const _0x317f1c=['webp','end','.gif','hbZUb','QRPxt','-an','jTwhg','wjLtZ','-preset','unlinkSync','WzbQK','setFfmpegPath','gEEwP','AzJLy','error','oIYDb','44LGEDAf','mwuIC','Could\x20not\x20fetch\x20image.','6490064pjLpdt','axios','867540VwfgQk','exports','3805197qcmPvh','readFileSync','crypto','VYVnj','arraybuffer','path','12727224CSNSkr','arPph','@ffmpeg-installer/ffmpeg','get','data','OTNsO','writeFileSync','fGhFj','14VvVgvZ','10tDsfsx','wHEiV','AJsYp','toFormat','fluent-ffmpeg','-vf','26895ODDyrF','KvfQA','Could\x20not\x20fetch\x20GIF.','NjhMD','join','save','203AyGGKV','196914FfEdUY','-vcodec','toString','38066SOwLdO','.webp','WMLNe','-loop','Error\x20fetching\x20image:'];a13_0x2628=function(){return _0x317f1c;};return a13_0x2628();}async function gifToSticker(_0x141af3){const _0x452177=a13_0x53b452,_0x256063={'fGhFj':function(_0x56dfcb,_0x4318a3){return _0x56dfcb(_0x4318a3);},'WMLNe':_0x452177(0xfa),'hbZUb':_0x452177(0xed),'cZLtY':_0x452177(0xe5),'gJzSY':_0x452177(0xdc),'wjLtZ':_0x452177(0xea),'AJsYp':_0x452177(0xf4),'arPph':'default','KvfQA':_0x452177(0xf1),'gEEwP':'-vsync','WzbQK':_0x452177(0xec),'mwuIC':function(_0x12def7){return _0x12def7();},'VYVnj':function(_0x41b150,_0x317a8b){return _0x41b150+_0x317a8b;},'AzJLy':'hex','QRPxt':_0x452177(0xe8),'wHEiV':function(_0x4fa07a){return _0x4fa07a();},'OTNsO':_0x452177(0xee)},_0x5f59f4=path[_0x452177(0xe1)](_0x256063[_0x452177(0xc2)](tmpdir),_0x256063['VYVnj'](Crypto['randomBytes'](0x6)[_0x452177(0xe6)](_0x256063[_0x452177(0xf9)]),_0x256063[_0x452177(0xf0)])),_0x5b1cb3=path[_0x452177(0xe1)](_0x256063[_0x452177(0xd8)](tmpdir),_0x256063[_0x452177(0xcb)](Crypto['randomBytes'](0x6)[_0x452177(0xe6)](_0x256063[_0x452177(0xf9)]),_0x256063[_0x452177(0xd3)]));fs[_0x452177(0xd4)](_0x5b1cb3,_0x141af3),await new Promise((_0x22603f,_0x2e4b91)=>{const _0x4b0722=_0x452177;_0x256063[_0x4b0722(0xd5)](ffmpeg,_0x5b1cb3)['on'](_0x256063[_0x4b0722(0xe9)],_0x2e4b91)['on'](_0x256063[_0x4b0722(0xef)],()=>_0x22603f(!![]))['addOutputOptions']([_0x256063['cZLtY'],'libwebp',_0x256063['gJzSY'],'scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,pad=320:320:-1:-1:color=white@0.0,split\x20[a][b];[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];[b][p]\x20paletteuse',_0x256063[_0x4b0722(0xf3)],'0',_0x256063[_0x4b0722(0xd9)],_0x256063[_0x4b0722(0xcf)],_0x256063[_0x4b0722(0xde)],_0x256063[_0x4b0722(0xf8)],'0'])[_0x4b0722(0xda)](_0x256063[_0x4b0722(0xf6)])[_0x4b0722(0xe2)](_0x5f59f4);});const _0x11278b=fs[_0x452177(0xc9)](_0x5f59f4);return fs['unlinkSync'](_0x5f59f4),fs[_0x452177(0xf5)](_0x5b1cb3),_0x11278b;}module[a13_0x53b452(0xc7)]={'fetchImage':fetchImage,'fetchGif':fetchGif,'gifToSticker':gifToSticker};